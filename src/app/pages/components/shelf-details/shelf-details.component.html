<div class="container">
  <div class="input-wrapper" [class.open]="isFormOpen">
    <form #bookForm class="form-wrapper">
      <input class="input-style" type="text" name="title" [(ngModel)]="bookTitle" placeholder="book title">
      <input class="input-style" type="text" name="name" [(ngModel)]="authorName" placeholder="author name">
      <input class="input-style" type="number" name="isbn" [(ngModel)]="isbn" placeholder="ISBN">
      <div class="file-input-wrapper">
        <input hidden type="file" name="file" id="imgUpload" #imgUpload (change)="onFileChange($event)">
        <label for="imgUpload" class="custom-file-upload">
          <img src="../../../../assets/img/paperclip-solid.svg" alt="attach">
          <span>{{imageName ? imageName : 'Choose Image'}}</span>
        </label>
      </div>
      <button (click)="addBook(bookForm)"
              [disabled]="!isFormValid()"
              [ngClass]="{'disabled': !isFormValid()?.length}"
              class="main-btn">
        submit
      </button>
    </form>
  </div>
  <div class="content" [ngStyle]="{'padding-top': isFormOpen? '95px' : '25px'}">
    <div class="content-header">
      <h1>{{selectedShelf?.name}}</h1>
      <button class="main-btn" (click)="isFormOpen = !isFormOpen">{{!isFormOpen? 'Add Books' : 'Close'}}</button>
    </div>
    <h3 *ngIf="selectedShelf && !selectedShelf['books'].length">There are no books in this shelf</h3>
    <ul>
      <li class="book-wrapper" *ngFor="let book of selectedShelf?.books; let i = index">
        <div class="info-wrapper">
          <img src="{{book?.image}}" alt="book">
          <div class="book-info">
            <p>{{book?.title}}</p>
            <p>{{book?.name}}</p>
            <p>{{book?.isbn}}</p>
          </div>
        </div>
        <div class="btn-wrapper">
          <button class="conf-btn" (click)="deleteBook(selectedShelf?.books, i)">
            <img src="./assets/img/trash-solid.svg" alt="trash">
          </button>
        </div>
      </li>
    </ul>
  </div>
</div>
